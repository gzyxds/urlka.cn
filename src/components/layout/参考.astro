---
/**
 * Headerç»„ä»¶
 * ç½‘ç«™çš„é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶ï¼Œæä¾›ç½‘ç«™çš„ä¸»è¦å¯¼èˆªåŠŸèƒ½
 * åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š
 * 1. ç½‘ç«™Logoå’Œå“ç‰Œåç§°
 * 2. ä¸»å¯¼èˆªèœå•ï¼ˆé¦–é¡µã€äº§å“ä¸­å¿ƒç­‰ï¼‰
 * 3. ä¸‹æ‹‰èœå•ï¼ˆäº§å“ã€æ–‡æ¡£ã€æ”¯æŒç­‰ï¼‰
 * 4. ç§»åŠ¨ç«¯å“åº”å¼èœå•
 * 5. æš—é»‘æ¨¡å¼åˆ‡æ¢æŒ‰é’®
 * 6. ç”¨æˆ·æ“ä½œæŒ‰é’®ï¼ˆç™»å½•ã€æ³¨å†Œç­‰ï¼‰
 */

/**
 * å®šä¹‰æ‰€æœ‰é¡µé¢çš„å¯¼èˆªé“¾æ¥
 * ç”¨äºæ„å»ºä¸»å¯¼èˆªèœå•
 */
const allPages = [
  { text: "å¸¸è§é—®é¢˜", url: "/faqs" },
  { text: "æ›´æ–°æ—¥å¿—", url: "/changelog" },
  { text: "é›†æˆ", url: "/integrations" },
];

/**
 * å¯¼å…¥ç½‘ç«™Logo
 * ç”¨äºåœ¨å¯¼èˆªæ ä¸­æ˜¾ç¤ºç½‘ç«™æ ‡è¯†
 */
import astroLogo from '../assets/logo.svg';

/**
 * äº§å“èœå•é¡¹
 * å®šä¹‰äº§å“ä¸‹æ‹‰èœå•ä¸­çš„é¡¹ç›®
 * æ¯ä¸ªé¡¹ç›®åŒ…å«åç§°ã€URLã€å›¾æ ‡ã€æè¿°å’Œé¢œè‰²
 */
const products = [
  { name: "æ•°å­—åˆ†èº«", url: "/human", icon: "ğŸ‘¤", desc: "æ™ºèƒ½æ•°å­—äººè§£å†³æ–¹æ¡ˆ", color: "blue" },
  { name: "å…¨èƒ½çŸ¥è¯†åº“", url: "/ai", icon: "ğŸ§ ", desc: "ä¼ä¸šçº§å…¨èƒ½AIå¹³å°", color: "green" },
  { name: "èŠå¤©ç»˜ç”»", url: "/chat", icon: "ğŸ’¬", desc: "æ™ºèƒ½å¯¹è¯ä¸åˆ›ä½œ", color: "purple" },
  { name: "è®ºæ–‡åˆ›ä½œ", url: "/paper", icon: "ğŸ“", desc: "æ™ºèƒ½è®ºæ–‡å†™ä½œåŠ©æ‰‹", color: "orange" },
  { name: "äº§å“ä¸­å¿ƒ", url: "/shop", icon: "ğŸ¯", desc: "å…¨éƒ¨äº§å“å¯¼èˆª", color: "pink" },
  { name: "äº§å“æ¼”ç¤º", url: "/demo", icon: "ğŸ–¥ï¸", desc: "åœ¨çº¿ä½“éªŒä¸­å¿ƒ", color: "orange" },
  { name: "AIæç¤ºè¯", url: "/tips", icon: "ğŸ’¡", desc: "AIæç¤ºè¯å¤§å…¨", color: "orange" },
  { name: "æˆæƒä¸­å¿ƒ", url: "http://auth.cnai.art", icon: "ğŸ‘¤", desc: "æˆæƒç®¡ç†ä¸ä½¿ç”¨", color: "orange", target: "_blank" },
];

/**
 * æ”¯æŒèœå•é¡¹
 * å®šä¹‰æ”¯æŒä¸‹æ‹‰èœå•ä¸­çš„é¡¹ç›®
 * æ¯ä¸ªé¡¹ç›®åŒ…å«åç§°ã€URLã€å›¾æ ‡ã€æè¿°å’Œé¢œè‰²
 */
const supportItems = [
  { name: "æ›´æ–°æ—¥å¿—", url: "/changelog", icon: "ğŸ› ï¸", desc: "è·å–æœ€æ–°æ›´æ–°", color: "teal" },
  { name: "è”ç³»æˆ‘ä»¬", url: "/contact", icon: "ğŸ“", desc: "è·å–ä¸“ä¸šæ”¯æŒæœåŠ¡", color: "indigo" },
  { name: "é›†æˆä¸API", url: "/integrations", icon: "ğŸ”Œ", desc: "è¿æ¥æ‚¨å–œçˆ±çš„å·¥å…·", color: "blue" },
  { name: "åˆä½œä¼™ä¼´", url: "/cooperate", icon: "ğŸ¤", desc: "æŸ¥çœ‹åˆä½œæœºä¼š", color: "yellow" },
  { name: "æ¸ é“åˆä½œ", url: "/channel", icon: "ğŸ¤", desc: "æ¸ é“åˆä½œä¸åŠ ç›Ÿ", color: "yellow" },
  { name: "APPä¸‹è½½", url: "/app", icon: "ğŸ“±", desc: "å¤šç»ˆç«¯APPä¸‹è½½", color: "green" },
];

/**
 * æ–‡æ¡£èœå•é¡¹
 * å®šä¹‰æ–‡æ¡£ä¸‹æ‹‰èœå•ä¸­çš„é¡¹ç›®
 * æ¯ä¸ªé¡¹ç›®åŒ…å«åç§°ã€URLã€å›¾æ ‡ã€æè¿°å’Œé¢œè‰²
 */
const docItems = [
  { name: "é¡¹ç›®æ–‡æ¡£", url: "https://doc.artaigc.cn/", icon: "ğŸ“„", desc: "5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹", color: "red", target: "_blank" },
  { name: "é£ä¹¦æ–‡æ¡£", url: "https://rwm01l8tn3x.feishu.cn/wiki/VqNCwBO0KiqWIWkSfdHcDigGnZg?from=from_copylink", icon: "ğŸ”", desc: "è¯¦ç»†åŠŸèƒ½è¯´æ˜", color: "blue" },
  { name: "æ•°å­—åˆ†èº«", url: "https://doc.artaigc.cn/human/", icon: "ğŸ‘¤", desc: "æ•°å­—äººéƒ¨ç½²æ–‡æ¡£", color: "green" },
  { name: "å…¨èƒ½çŸ¥è¯†åº“", url: "https://doc.artaigc.cn/work/deployment/demo.html", icon: "ğŸ§ ", desc: "ä¼ä¸šçŸ¥è¯†åº“æ•°æ–‡æ¡£", color: "purple" },
  { name: "èŠå¤©ç»˜ç”»", url: "https://doc.artaigc.cn/chat/", icon: "ğŸ¨", desc: "èŠå¤©ç»˜ç”»ä¼ä¸šçŸ¥è¯†åº“æ•°æ–‡æ¡£", color: "yellow" },
  { name: "è®ºæ–‡åˆ›ä½œ", url: "https://doc.artaigc.cn/Paper/deployment/bt.html", icon: "ğŸ“", desc: "è®ºæ–‡åˆ›ä½œæ–‡æ¡£", color: "yellow" },
];

const faqItems = [
  { name: "ä½¿ç”¨æŒ‡å—", url: "/faqs/guide", icon: "ğŸ“–", desc: "äº§å“ä½¿ç”¨æ•™ç¨‹", color: "blue" },
  { name: "æ”¯ä»˜é—®é¢˜", url: "/faqs/payment", icon: "ğŸ’³", desc: "æ”¯ä»˜æ–¹å¼ä¸å‘ç¥¨", color: "green" },
  { name: "æŠ€æœ¯æ”¯æŒ", url: "/faqs/support", icon: "ğŸ› ï¸", desc: "æŠ€æœ¯æ”¯æŒæœåŠ¡", color: "purple" },
  { name: "APIé—®é¢˜", url: "/faqs/api", icon: "ğŸ”Œ", desc: "æ¥å£ä½¿ç”¨é—®é¢˜", color: "orange" },
  { name: "è´¦å·é—®é¢˜", url: "/faqs/account", icon: "ğŸ‘¤", desc: "è´¦å·ç®¡ç†æŒ‡å—", color: "red" }
];
---

<header class="sticky top-0 z-50 w-full bg-white/50 dark:bg-gray-900/50 backdrop-blur-md transition-all duration-300">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex items-center space-x-2">
          <img src={astroLogo.src} alt="è‰ºåˆ›AI Logo" class="h-8 w-8" />
          <span class="text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent">
            è‰ºåˆ›AI
          </span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden xl:flex xl:items-center xl:space-x-8">
        <a href="/" class="nav-link">é¦–é¡µ</a>
        
        <!-- Products Dropdown -->
        <div class="relative group">
          <button class="nav-link flex items-center">
            äº§å“ä¸­å¿ƒ
            <svg class="ml-1 h-4 w-4 transition-transform duration-200 group-hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="absolute left-0 mt-2 w-[500px] rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-md shadow-xl ring-1 ring-black/5 dark:ring-white/10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
            <div class="p-4">
              <div class="grid grid-cols-2 gap-3">
                {products.map((product) => (
                  <a href={product.url} class="menu-item group/item">
                    <div class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-700/50 transition-all duration-200">
                      <span class={`flex h-10 w-10 items-center justify-center rounded-xl bg-${product.color}-100 dark:bg-${product.color}-900/30 text-${product.color}-600 dark:text-${product.color}-400 group-hover/item:scale-110 transition-transform duration-300`}>
                        {product.icon}
                      </span>
                      <div class="flex-1 min-w-0">
                        <div class="font-medium text-gray-900 dark:text-gray-100 group-hover/item:text-primary-600 dark:group-hover/item:text-primary-400 transition-colors duration-200">
                          {product.name}
                        </div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 truncate">
                          {product.desc}
                        </div>
                      </div>
                      <svg class="h-5 w-5 text-gray-400 dark:text-gray-500 opacity-0 group-hover/item:opacity-100 transition-all duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                    </div>
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>

        <!--äº§å“æ–‡æ¡£  -->
        <div class="relative group">
          <button class="nav-link flex items-center">
            äº§å“æ–‡æ¡£
            <svg class="ml-1 h-4 w-4 transition-transform duration-200 group-hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="absolute left-0 mt-2 w-[500px] rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-md shadow-xl ring-1 ring-black/5 dark:ring-white/10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
            <div class="p-4">
              <div class="grid grid-cols-2 gap-3">
                {docItems.map((item) => (
                  <a href={item.url} target={item.target} class="menu-item group/item">
                    <div class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-700/50 transition-all duration-200">
                      <span class={`flex h-10 w-10 items-center justify-center rounded-xl bg-${item.color}-100 dark:bg-${item.color}-900/30 text-${item.color}-600 dark:text-${item.color}-400 group-hover/item:scale-110 transition-transform duration-300`}>
                        {item.icon}
                      </span>
                      <div class="flex-1 min-w-0">
                        <div class="font-medium text-gray-900 dark:text-gray-100 group-hover/item:text-primary-600 dark:group-hover/item:text-primary-400 transition-colors duration-200">
                          {item.name}
                        </div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 truncate">
                          {item.desc}
                        </div>
                      </div>
                      <svg class="h-5 w-5 text-gray-400 dark:text-gray-500 opacity-0 group-hover/item:opacity-100 transition-all duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                    </div>
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>

        <a href="/pricing" class="nav-link">äº§å“ä»·æ ¼</a>
        <a href="/company" class="nav-link">å…³äºæˆ‘ä»¬</a>
        <a href="/contact" class="nav-link">è”ç³»æˆ‘ä»¬</a>

        <!-- Support Dropdown -->
        <div class="relative group">
          <button class="nav-link flex items-center">
            æ”¯æŒä¸æœåŠ¡
            <svg class="ml-1 h-4 w-4 transition-transform duration-200 group-hover:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="absolute left-0 mt-2 w-[500px] rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-md shadow-xl ring-1 ring-black/5 dark:ring-white/10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
            <div class="p-4">
              <div class="grid grid-cols-2 gap-3">
                {supportItems.map((item) => (
                  <a href={item.url} class="menu-item group/item">
                    <div class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-700/50 transition-all duration-200">
                      <span class={`flex h-10 w-10 items-center justify-center rounded-xl bg-${item.color}-100 dark:bg-${item.color}-900/30 text-${item.color}-600 dark:text-${item.color}-400 group-hover/item:scale-110 transition-transform duration-300`}>
                        {item.icon}
                      </span>
                      <div class="flex-1 min-w-0">
                        <div class="font-medium text-gray-900 dark:text-gray-100 group-hover/item:text-primary-600 dark:group-hover/item:text-primary-400 transition-colors duration-200">
                          {item.name}
                        </div>
                        <div class="text-xs text-gray-500 dark:text-gray-400 truncate">
                          {item.desc}
                        </div>
                      </div>
                      <svg class="h-5 w-5 text-gray-400 dark:text-gray-500 opacity-0 group-hover/item:opacity-100 transition-all duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                      </svg>
                    </div>
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>
        <a href="/blog" class="nav-link">æœ€æ–°åŠ¨æ€</a>
      </nav>

      <!-- Right Side Actions -->
      <div class="flex items-center space-x-4">
        <!-- Dark Mode Toggle -->
        <button 
          x-on:click="darkMode = !darkMode"
          class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200"
          aria-label="åˆ‡æ¢æš—é»‘æ¨¡å¼"
        >
          <svg x-show="!darkMode" class="h-5 w-5 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
          <svg x-show="darkMode" class="h-5 w-5 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
        </button>

        <!-- Auth Buttons -->
        <div class="flex flex-wrap justify-center xl:justify-start gap-4">
          <a 
            href="https://auth.cnai.art/regist.htm"
            target="_blank"
            rel="noopener noreferrer"
            class="group hidden sm:inline-flex items-center px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all"
          >
            <span>ç«‹å³è´­ä¹°</span>
          </a>
          
          <a 
            href="https://auth.cnai.art/regist.htm"
            target="_blank"
            rel="noopener noreferrer"
            class="group hidden sm:inline-flex items-center px-6 py-2.5 bg-white dark:bg-gray-800 text-gray-800 dark:text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all"
          >
            <span>ç™»å…¥/æ³¨å†Œ</span>
          </a>
        </div>
        
        <!-- Mobile Menu Button -->
        <button 
          x-data="{open: false}"
          x-on:click="open = !open; $dispatch('toggle-mobile-menu', {open})"
          class="xl:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200"
          aria-label="åˆ‡æ¢èœå•"
        >
          <svg x-bind:class="{'hidden': open, 'block': !open}" class="h-6 w-6 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <svg x-bind:class="{'block': open, 'hidden': !open}" class="h-6 w-6 text-gray-600 dark:text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div 
    x-data="{ open: false }"
    x-on:toggle-mobile-menu.window="open = $event.detail.open"
    x-show="open"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 -translate-y-4"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-4"
    class="xl:hidden fixed inset-x-0 top-16 z-50 w-full overflow-hidden bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-800"
    x-cloak
  >
    <nav class="relative max-h-[calc(100vh-4rem)] overflow-y-auto p-4 space-y-4">
      <div class="space-y-4">
        <a href="/" class="mobile-nav-item">é¦–é¡µ</a>
        
        <!-- Mobile Products Menu -->
        <div x-data="{expanded: false}" class="space-y-2">
          <button 
            x-on:click="expanded = !expanded"
            class="mobile-nav-item w-full flex items-center justify-between group"
          >
            <span x-bind:class="{'text-primary-600 dark:text-primary-400': expanded}">äº§å“ä¸­å¿ƒ</span>
            <svg 
              x-bind:class="{'rotate-180 text-primary-600 dark:text-primary-400': expanded}"
              class="h-5 w-5 transition-all duration-200 group-hover:text-primary-600 dark:group-hover:text-primary-400" 
              fill="none" viewBox="0 0 24 24" stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div x-show="expanded" x-collapse x-cloak>
            <div class="pt-2 pl-4 border-l-2 border-primary-100 dark:border-primary-900">
              <div class="grid grid-cols-2 gap-2">
                {products.map(product => (
                  <a href={product.url} class="mobile-menu-item">
                    <div class="flex flex-col">
                      <div class="flex items-center space-x-2">
                        <span class={`text-${product.color}-600 dark:text-${product.color}-400`}>{product.icon}</span>
                        <span class={`font-medium text-${product.color}-600 dark:text-${product.color}-400`}>{product.name}</span>
                      </div>
                      <span class="text-xs text-gray-500 mt-1">{product.desc}</span>
                    </div>
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>

        <!-- Mobile Documentation Menu -->
        <div x-data="{expanded: false}" class="space-y-2">
          <button 
            x-on:click="expanded = !expanded"
            class="mobile-nav-item w-full flex items-center justify-between group"
          >
            <span x-bind:class="{'text-primary-600 dark:text-primary-400': expanded}">äº§å“æ–‡æ¡£</span>
            <svg 
              x-bind:class="{'rotate-180 text-primary-600 dark:text-primary-400': expanded}"
              class="h-5 w-5 transition-all duration-200 group-hover:text-primary-600 dark:group-hover:text-primary-400" 
              fill="none" viewBox="0 0 24 24" stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div x-show="expanded" x-collapse x-cloak>
            <div class="pt-2 pl-4 border-l-2 border-primary-100 dark:border-primary-900">
              <div class="grid grid-cols-2 gap-2">
                {docItems.map(item => (
                  <a href={item.url} target={item.target} class="mobile-menu-item">
                    <div class="flex flex-col">
                      <div class="flex items-center space-x-2">
                        <span class={`text-${item.color}-600 dark:text-${item.color}-400`}>{item.icon}</span>
                        <span class={`font-medium text-${item.color}-600 dark:text-${item.color}-400`}>{item.name}</span>
                      </div>
                      <span class="text-xs text-gray-500 mt-1">{item.desc}</span>
                    </div>
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>

        <a href="/pricing" class="mobile-nav-item">äº§å“ä»·æ ¼</a>
        <a href="/company" class="mobile-nav-item">å…³äºæˆ‘ä»¬</a>
        <a href="/contact" class="mobile-nav-item">è”ç³»æˆ‘ä»¬</a>

        <!-- Mobile Support Menu -->
        <div x-data="{expanded: false}" class="space-y-2">
          <button 
            x-on:click="expanded = !expanded"
            class="mobile-nav-item w-full flex items-center justify-between group"
          >
            <span x-bind:class="{'text-primary-600 dark:text-primary-400': expanded}">æ”¯æŒä¸æœåŠ¡</span>
            <svg 
              x-bind:class="{'rotate-180 text-primary-600 dark:text-primary-400': expanded}"
              class="h-5 w-5 transition-all duration-200 group-hover:text-primary-600 dark:group-hover:text-primary-400" 
              fill="none" viewBox="0 0 24 24" stroke="currentColor"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <div x-show="expanded" x-collapse x-cloak>
            <div class="pt-2 pl-4 border-l-2 border-primary-100 dark:border-primary-900">
              <div class="grid grid-cols-2 gap-2">
                {supportItems.map(item => (
                  <a href={item.url} class="mobile-menu-item">
                    <div class="flex flex-col">
                      <div class="flex items-center space-x-2">
                        <span class={`text-${item.color}-600 dark:text-${item.color}-400`}>{item.icon}</span>
                        <span class={`font-medium text-${item.color}-600 dark:text-${item.color}-400`}>{item.name}</span>
                      </div>
                      <span class="text-xs text-gray-500 mt-1">{item.desc}</span>
                    </div>
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>
        <a href="/blog" class="mobile-nav-item">æœ€æ–°åŠ¨æ€</a>
      </div>

      <!-- Mobile Auth Buttons -->
      <div class="pt-6 space-y-4">
        <a 
          href="https://auth.cnai.art/regist.htm" 
          class="block w-full text-center px-4 py-3 rounded-xl bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors duration-200"
        >
          ä¼šå‘˜ä¸­å¿ƒ
        </a>
        <a 
          href="https://auth.cnai.art/regist.htm" 
          class="block w-full text-center px-4 py-3 rounded-xl border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 font-medium transition-colors duration-200"
        >
          ç™»å½•/æ³¨å†Œ
        </a>
      </div>
    </nav>
  </div>
</header>

<style>
  .nav-link {
    @apply px-2 xl:px-3 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-all duration-300 relative overflow-hidden;
  }

  .nav-link::after {
    content: '';
    @apply absolute bottom-0 left-0 w-full h-0.5 bg-primary-600 dark:bg-primary-400 transform scale-x-0 transition-transform duration-300 origin-left;
  }

  .nav-link:hover::after {
    @apply scale-x-100;
  }

  .menu-item {
    @apply flex items-center space-x-2 xl:space-x-3 p-2 rounded-xl transition-all duration-300 hover:bg-blue-50 dark:hover:bg-blue-800/50;
  }

  .mobile-nav-item {
    @apply flex items-center justify-between w-full px-4 py-3 rounded-xl text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 font-medium hover:translate-x-1;
  }

  .mobile-menu-item {
    @apply flex items-center w-full px-4 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-all duration-300 hover:translate-x-1;
  }

  [x-cloak] { 
    display: none !important; 
  }
</style>

<script is:inline>
  // ä½¿ç”¨é˜²æŠ–å‡½æ•°ä¼˜åŒ–æ»šåŠ¨äº‹ä»¶å¤„ç†
  function debounce(func, wait) {
    let timeout;
    return function(...args) {
      clearTimeout(timeout);
      timeout = setTimeout(() => func.apply(this, args), wait);
    };
  }

  // åˆå§‹åŒ–å˜é‡
  let header;
  let lastScrollY = window.scrollY;
  let ticking = false;

  // æ»šåŠ¨å¤„ç†å‡½æ•°
  function handleScroll() {
    if (!header) header = document.querySelector('header');
    if (!header) return;
    
    const currentScrollY = window.scrollY;
    
    if (!ticking) {
      window.requestAnimationFrame(() => {
        if (currentScrollY > 20) {
          header.classList.add('shadow-md');
        } else {
          header.classList.remove('shadow-md');
        }
        
        lastScrollY = currentScrollY;
        ticking = false;
      });
      
      ticking = true;
    }
  }

  // ä½¿ç”¨é˜²æŠ–ä¼˜åŒ–æ»šåŠ¨äº‹ä»¶
  const debouncedScroll = debounce(handleScroll, 10);
  
  // æ·»åŠ æ»šåŠ¨äº‹ä»¶ç›‘å¬
  window.addEventListener('scroll', debouncedScroll, { passive: true });
  
  // DOMåŠ è½½å®Œæˆååˆå§‹åŒ–
  document.addEventListener('DOMContentLoaded', () => {
    header = document.querySelector('header');
    handleScroll();
  });
  
  // åˆå§‹æ£€æŸ¥æ»šåŠ¨ä½ç½®
  handleScroll();
</script>