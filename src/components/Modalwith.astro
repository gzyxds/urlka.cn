<!-- ====== å¼¹çª—ç»„ä»¶å¼€å§‹ -->
<div id="modal-container">


  <!-- å¼¹çª—é®ç½©å±‚ -->
  <div 
    id="modal-overlay" 
    class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50 px-4 py-5">
    
    <!-- å¼¹çª—å†…å®¹ -->
    <div 
      id="modal-content"
      class="relative w-full max-w-[570px] rounded-[20px] bg-white px-8 py-12 text-center shadow-2xl transform transition-all duration-300 scale-95 md:px-[70px] md:py-[60px] dark:bg-dark-2">
      
      <!-- å³ä¸Šè§’å…³é—­æŒ‰é’® -->
      <button 
        id="close-modal-x"
        class="absolute right-4 top-4 flex h-8 w-8 items-center justify-center rounded-full text-2xl text-gray-500 hover:bg-gray-100 hover:text-gray-700 transition-colors dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200"
        title="å…³é—­å¼¹çª—">
        Ã—
      </button>

      <!-- å¼¹çª—æ ‡é¢˜ -->
      <h3 class="pb-[18px] text-xl font-semibold text-dark sm:text-2xl dark:text-white">
        ç«‹å³ç”³è¯·ä»£ç†
      </h3>
      
      <!-- è£…é¥°çº¿ -->
      <div class="decorative-line mx-auto mb-6 h-1 w-[90px] rounded-sm bg-gradient-to-r from-primary to-blue-600"></div>
      
      <!-- å¼¹çª—å†…å®¹ -->
      <p class="mb-8 text-base leading-relaxed text-body-color dark:text-dark-6">
        ç«‹è¶³äºå·…å³°ä»£ç†å•†çš„å¼ºå¤§èƒŒæ™¯ï¼ŒæŠŠæ¡è¡Œä¸šå…ˆæœº
      </p>
      
      <!-- äºŒç»´ç åŒºåŸŸ -->
      <div class="mb-8 grid grid-cols-1 sm:grid-cols-2 gap-6">
        <!-- ç¬¬ä¸€ä¸ªäºŒç»´ç  -->
        <div class="flex flex-col items-center">
          <div class="qr-container group relative rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 dark:from-blue-900/30 dark:to-blue-800/30">
            <div class="absolute inset-0 rounded-xl bg-gradient-to-br from-blue-400/10 to-blue-500/10 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>
            <img 
              src="/assets/team/wx.png" 
              alt="å¾®ä¿¡å®¢æœäºŒç»´ç " 
              class="relative mx-auto h-32 w-32 rounded-lg shadow-md transition-transform duration-300 group-hover:scale-110" 
              loading="lazy"
            />
            <p class="mt-3 text-sm font-medium text-gray-700 dark:text-gray-300">
              å¾®ä¿¡å®¢æœ
            </p>
          </div>
        </div>
        
        <!-- ç¬¬äºŒä¸ªäºŒç»´ç  -->
        <div class="flex flex-col items-center">
          <div class="qr-container group relative rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 p-6 shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-105 dark:from-blue-900/30 dark:to-blue-800/30">
            <div class="absolute inset-0 rounded-xl bg-gradient-to-br from-blue-400/10 to-blue-500/10 opacity-0 transition-opacity duration-300 group-hover:opacity-100"></div>
            <img 
              src="/assets/team/weixin.png" 
              alt="å¾®ä¿¡ç¾¤äºŒç»´ç " 
              class="relative mx-auto h-32 w-32 rounded-lg shadow-md transition-transform duration-300 group-hover:scale-110" 
              loading="lazy"
            />
            <p class="mt-3 text-sm font-medium text-gray-700 dark:text-gray-300">
              å¾®ä¿¡ç¾¤èŠ
            </p>
          </div>
        </div>
      </div>
      
      <!-- æç¤ºæ–‡å­— -->
      <div class="tip-box mb-6 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20">
        <p class="text-sm text-blue-700 dark:text-blue-300">
          ğŸ’¡ æ‰«æä»»æ„äºŒç»´ç ï¼Œå³å¯è·å¾—ä¸“ä¸šä»£ç†æŒ‡å¯¼å’Œä¼˜è´¨æœåŠ¡æ”¯æŒ
        </p>
      </div>
      
      <!-- æŒ‰é’®ç»„ -->
      <div class="flex flex-col sm:flex-row gap-3 justify-center">
        <button 
          id="cancel-btn"
          type="button" 
          class="w-full sm:w-auto min-w-[120px] rounded-md border-2 border-gray-300 bg-white px-6 py-3 text-base font-medium text-gray-700 transition-all duration-200 hover:border-red-500 hover:bg-red-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300">
          å…³é—­å¼¹çª—
        </button>
        <a 
          href="/"
          class="w-full sm:w-auto min-w-[120px] rounded-md border-2 border-primary bg-primary px-6 py-3 text-base font-medium text-white transition-all duration-200 hover:bg-blue-700 hover:border-blue-700 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2">
         ç«‹å³ç”³è¯·
        </a>
      </div>
    </div>
  </div>
</div>

<script>
  // å¼¹çª—æ§åˆ¶è„šæœ¬
  document.addEventListener('DOMContentLoaded', function() {
    const modalOverlay = document.getElementById('modal-overlay');
    const modalContent = document.getElementById('modal-content');
    const openBtn = document.getElementById('open-modal-btn');
    const closeXBtn = document.getElementById('close-modal-x');
    const cancelBtn = document.getElementById('cancel-btn');

    // æ˜¾ç¤ºå¼¹çª—çš„å‡½æ•°
    function showModal() {
      if (modalOverlay) {
        modalOverlay.classList.remove('hidden');
        modalOverlay.classList.add('flex');
        setTimeout(() => {
          if (modalContent) {
            modalContent.classList.remove('scale-95');
            modalContent.classList.add('scale-100', 'show');
          }
        }, 10);
        document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»šåŠ¨
      }
    }

    // éšè—å¼¹çª—çš„å‡½æ•°
    function hideModal() {
      if (modalContent) {
        modalContent.classList.remove('scale-100', 'show');
        modalContent.classList.add('scale-95');
      }
      setTimeout(() => {
        if (modalOverlay) {
          modalOverlay.classList.remove('flex');
          modalOverlay.classList.add('hidden');
        }
      }, 300);
      document.body.style.overflow = ''; // æ¢å¤èƒŒæ™¯æ»šåŠ¨
    }

    // é¡µé¢åŠ è½½5ç§’åè‡ªåŠ¨æ˜¾ç¤ºå¼¹çª—
    setTimeout(() => {
      showModal();
    }, 20000);

    // ç‚¹å‡»æ‰“å¼€æŒ‰é’®æ˜¾ç¤ºå¼¹çª—ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰
    if (openBtn) {
      openBtn.addEventListener('click', function(e) {
        e.preventDefault();
        showModal();
      });
    }

    // ç‚¹å‡»å³ä¸Šè§’XæŒ‰é’®å…³é—­å¼¹çª—
    if (closeXBtn) {
      closeXBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        console.log('å…³é—­æŒ‰é’®è¢«ç‚¹å‡»'); // è°ƒè¯•ç”¨
        hideModal();
      });
    }

    // ç‚¹å‡»å–æ¶ˆæŒ‰é’®å…³é—­å¼¹çª—
    if (cancelBtn) {
      cancelBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        console.log('å–æ¶ˆæŒ‰é’®è¢«ç‚¹å‡»'); // è°ƒè¯•ç”¨
        hideModal();
      });
    }

    // ç‚¹å‡»é®ç½©å±‚å…³é—­å¼¹çª—
    if (modalOverlay) {
      modalOverlay.addEventListener('click', function(e) {
        if (e.target === modalOverlay) {
          hideModal();
        }
      });
    }

    // æŒ‰ESCé”®å…³é—­å¼¹çª—
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && modalOverlay && !modalOverlay.classList.contains('hidden')) {
        hideModal();
      }
    });

    // é˜²æ­¢å¼¹çª—å†…å®¹åŒºåŸŸçš„ç‚¹å‡»äº‹ä»¶å†’æ³¡
    if (modalContent) {
      modalContent.addEventListener('click', function(e) {
        e.stopPropagation();
      });
    }

    // å…¨å±€å‡½æ•°ï¼Œä¾›å¤–éƒ¨è°ƒç”¨
    window.showModal = showModal;
    window.hideModal = hideModal;
  });
</script>

<style>
  /* å¼¹çª—åŠ¨ç”»æ ·å¼ */
  #modal-content {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(10px);
  }
  
  /* ç¡®ä¿å¼¹çª—åœ¨æœ€é¡¶å±‚ */
  #modal-overlay {
    z-index: 9999;
    backdrop-filter: blur(8px);
    animation: fadeIn 0.3s ease-out;
  }
  
  /* å¼¹çª—èƒŒæ™¯æ¸å˜åŠ¨ç”» */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  /* å¼¹çª—å†…å®¹è¿›å…¥åŠ¨ç”» */
  @keyframes slideInUp {
    from {
      transform: translateY(30px) scale(0.95);
      opacity: 0;
    }
    to {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
  }
  
  #modal-content.show {
    animation: slideInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* æŒ‰é’®æ‚¬åœæ•ˆæœå¢å¼º */
  #cancel-btn {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  #cancel-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
  }
  
  #close-modal-x {
    transition: all 0.2s ease-in-out;
  }
  
  #close-modal-x:hover {
    transform: scale(1.2) rotate(90deg);
    background-color: rgba(239, 68, 68, 0.1);
  }
  
  /* äºŒç»´ç å®¹å™¨æ‚¬åœæ•ˆæœ */
  .qr-container {
    position: relative;
    overflow: hidden;
  }
  
  .qr-container::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transform: rotate(45deg);
    transition: all 0.6s;
    opacity: 0;
  }
  
  .qr-container:hover::before {
    animation: shimmer 1.5s ease-in-out;
  }
  
  @keyframes shimmer {
    0% {
      transform: translateX(-100%) translateY(-100%) rotate(45deg);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform: translateX(100%) translateY(100%) rotate(45deg);
      opacity: 0;
    }
  }
  
  /* è£…é¥°çº¿åŠ¨ç”» */
  .decorative-line {
    background-size: 200% 100%;
    animation: gradientShift 3s ease-in-out infinite;
  }
  
  @keyframes gradientShift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  /* æç¤ºæ¡†è„‰å†²æ•ˆæœ */
  .tip-box {
    animation: pulse 2s ease-in-out infinite;
  }
  
  @keyframes pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
    }
    50% {
      box-shadow: 0 0 0 10px rgba(59, 130, 246, 0);
    }
  }
  
  /* å“åº”å¼ä¼˜åŒ– */
  @media (max-width: 640px) {
    #modal-content {
      margin: 1rem;
      max-height: 90vh;
      overflow-y: auto;
    }
  }
</style>
<!-- ====== å¼¹çª—ç»„ä»¶ç»“æŸ -->